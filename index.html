<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reddi2Drive | Stopping Distance Calculator</title>

  <style>
    /* =========================================================
       R2D STOPPING DISTANCE CALC ‚Äî THEME REVAMP (KEEP IDS!)
       ========================================================= */

    :root{
      --bgA:#06080f;
      --bgB:#04060c;

      --text:#eef2ff;
      --muted: rgba(238,242,255,.72);

      --line: rgba(255,255,255,.12);
      --line2: rgba(255,255,255,.08);

      --card: rgba(255,255,255,.055);
      --card2: rgba(255,255,255,.035);

      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --r:18px;

      --accent:#e53b3b;
      --accent2:#b81f2d;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 450px at 15% 0%, rgba(229,59,59,.18), transparent 60%),
        radial-gradient(700px 420px at 85% 15%, rgba(229,59,59,.14), transparent 60%),
        linear-gradient(180deg, rgba(8,12,22,.98), rgba(0,0,0,.98));
    }

    .r2d-wrap{ max-width:1100px; margin:0 auto; padding: 18px 14px 48px; }

    /* Top bar */
    .r2d-top{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin: 6px 0 14px;
    }
    .r2d-home-pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:999px; text-decoration:none;
      background:rgba(255,255,255,.06); border:1px solid var(--line);
      color:var(--text); font-weight:900;
      backdrop-filter: blur(8px);
    }
    .r2d-brand{
      display:inline-flex; align-items:baseline;
      text-decoration:none; color:var(--text);
      font-weight:1000; letter-spacing:.2px; font-size:18px; opacity:.95;
    }
    .r2d-brand2{ color:var(--accent); }

    /* Title card */
    .r2d-titlecard{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      border-radius: var(--r);
      padding: 18px 16px;
      position:relative;
      overflow:hidden;
      margin-bottom: 14px;
    }
    .r2d-titlecard:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(520px 220px at 10% 0%, rgba(229,59,59,.22), transparent 60%),
        radial-gradient(420px 220px at 90% 25%, rgba(184,31,45,.18), transparent 60%);
      pointer-events:none;
    }
    .r2d-titlecard > *{ position:relative; }
    h1{
      margin:0;
      font-size: clamp(22px, 2.8vw, 32px);
      font-weight:1000;
      letter-spacing:.2px;
    }
    .r2d-sub{
      margin:8px 0 0;
      color:var(--muted);
      font-weight:700;
      line-height:1.45;
    }

    /* Layout */
    .r2d-grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 920px){
      .r2d-grid{ grid-template-columns: 1fr; }
    }

    /* Cards */
    .r2d-card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, var(--card), var(--card2));
      box-shadow: var(--shadow);
      border-radius: var(--r);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .r2d-card h2{
      margin:0 0 10px;
      font-size: 18px;
      font-weight:1000;
      letter-spacing:.2px;
    }
    .r2d-muted{ color: var(--muted); }

    /* Form */
    .r2d-form{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      align-items:end;
    }
    @media (max-width: 560px){
      .r2d-form{ grid-template-columns: 1fr; }
    }
    .r2d-field label{
      display:block;
      font-size: 13px;
      font-weight:900;
      color: rgba(238,242,255,.85);
      margin:0 0 6px;
      letter-spacing:.15px;
    }
    select{
      width:100%;
      font-size: 16px;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line2);
      background: rgba(255,255,255,.06);
      color: var(--text);
      outline: none;
      appearance: none;
    }
    select:focus{
      border-color: rgba(229,59,59,.55);
      box-shadow: 0 0 0 4px rgba(229,59,59,.18);
    }

    /* Primary button */
    #calcBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      width:100%;
      margin-top: 12px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: linear-gradient(135deg, rgba(229,59,59,.95), rgba(184,31,45,.95));
      color:#fff;
      font-weight:1000;
      font-size: 15px;
      cursor:pointer;
      box-shadow: 0 14px 35px rgba(229,59,59,.25);
      transition: .16s ease;
    }
    #calcBtn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    #calcBtn:active{ transform: scale(.98); }

    /* Results */
    .r2d-kpis{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 12px;
    }
    @media (max-width: 560px){
      .r2d-kpis{ grid-template-columns: 1fr; }
    }
    .r2d-kpi{
      border:1px solid var(--line2);
      background: rgba(255,255,255,.04);
      border-radius: 14px;
      padding: 12px;
    }
    .r2d-kpi .k{ font-size:12px; font-weight:900; color: var(--muted); }
    .r2d-kpi .v{ font-size:20px; font-weight:1100; margin-top: 4px; }
    .r2d-kpi .v .unit{ font-size:12px; color: var(--muted); font-weight:900; margin-left: 6px; }

    .r2d-note{
      margin-top: 10px;
      font-size: 13px;
      color: rgba(238,242,255,.70);
      line-height: 1.5;
    }

    /* Distance bar */
    .r2d-bar{
      margin-top: 14px;
      border:1px solid var(--line2);
      border-radius: 14px;
      background: rgba(255,255,255,.03);
      padding: 12px;
    }
    .r2d-bar h3{
      margin:0 0 10px;
      font-size: 14px;
      font-weight:1000;
      color: rgba(238,242,255,.88);
    }
    #distBar{
      position:relative;
      height: 46px;
      border-radius: 12px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.07);
      overflow:hidden;
    }
    .seg{
      position:absolute;
      top: 6px;
      height: 34px;
      border-radius: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:1000;
      font-size: 13px;
      color:#fff;
      white-space:nowrap;
      padding: 0 10px;
      min-width: 64px;
      box-shadow: 0 10px 20px rgba(0,0,0,.22);
    }
    #segThink{
      background: rgba(255,255,255,.14);
      border: 1px solid rgba(255,255,255,.16);
      color: rgba(238,242,255,.95);
    }
    #segBrake{
      background: linear-gradient(135deg, rgba(229,59,59,.95), rgba(184,31,45,.95));
      border: 1px solid rgba(255,255,255,.16);
    }

    /* Road visual (kept, but darkened) */
    .roadWrap{ margin-top: 14px; }
    .roadTitle{
      margin: 0 0 10px;
      font-size: 14px;
      font-weight:1000;
      color: rgba(238,242,255,.88);
    }
    .road{ position: relative; height: 180px; }
    .asphalt{
      position:absolute;
      left: 10px; right: 10px;
      top: 28px;
      height: 66px;
      border-radius: 14px;
      background: linear-gradient(#2c313b, #1f232c);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.06);
    }
    .dash{
      position:absolute;
      left: 28px; right: 28px;
      top: 60px;
      height: 6px;
      background: repeating-linear-gradient(to right, rgba(255,255,255,.60) 0 18px, rgba(255,255,255,0) 18px 34px);
      opacity: .75;
      border-radius: 999px;
    }
    .car{
      position:absolute;
      top: 61px;
      transform: translate(-50%,-50%);
      width: 54px;
      height: 28px;
      border-radius: 8px;
      background: var(--accent);
      box-shadow: 0 10px 22px rgba(0,0,0,.28);
    }
    .car:before{
      content:"";
      position:absolute;
      left: 12px;
      top: -7px;
      width: 26px;
      height: 14px;
      border-radius: 8px 8px 5px 5px;
      background: rgba(184,31,45,.95);
    }
    .flag{
      position:absolute;
      right: 10px;
      top: 12px;
      width: 46px;
      height: 90px;
      opacity: .95;
    }
    .flag:before{
      content:"";
      position:absolute;
      left: 20px; top: 0;
      width: 4px; height: 92px;
      background: rgba(238,242,255,.8);
      border-radius: 2px;
    }
    .flag:after{
      content:"";
      position:absolute;
      left: 24px; top: 8px;
      width: 28px; height: 22px;
      background: conic-gradient(#000 0 25%, #fff 0 50%, #000 0 75%, #fff 0);
      background-size: 10px 10px;
      border-radius: 3px;
      box-shadow: 0 2px 6px rgba(0,0,0,.28);
    }

    /* Small helper pill */
    .r2d-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(238,242,255,.92);
      font-weight:950;
      font-size: 12px;
      white-space: nowrap;
    }

/* ===== R2D: results + info card layout ===== */
.r2d-two{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  align-items:start;
}

/* hide the visual bar + key (the ‚Äúcard on the right‚Äù you don‚Äôt want) */
.distBar,
.keyRow{ display:none !important; }

/* info card styling (matches your dark/red theme vibe) */
.r2d-edu-card{
  border:1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.03));
  border-radius:18px;
  padding:16px;
  color:#eef2ff;
}

.r2d-edu-card p{
  margin:0 0 10px;
  color:rgba(238,242,255,.78);
  line-height:1.55;
  font-weight:650;
}

.r2d-edu-card strong{ color:#fff; }

.r2d-edu-card ul{
  margin:10px 0 12px;
  padding-left:18px;
  color:rgba(238,242,255,.78);
}
.r2d-edu-card li{ margin:6px 0; }

@media (max-width: 900px){
  .r2d-two{ grid-template-columns: 1fr; }
}

    /* ‚úÖ Remove bottom empty band */
body,
html{
  min-height: auto !important;
  height: auto !important;
}

.r2d-shell,
.r2d-grid{
  align-items: start !important;
}

/* stop phantom spacing from old right column */
.r2d-grid{
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* prevent extra page stretch */
main,
.site-content,
.wp-site-blocks{
  padding-bottom: 0 !important;
}

    .r2d-seo-links{
  margin-top:14px;
}

.r2d-seo-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  margin-top:12px;
}

.r2d-seo-link{
  display:flex;
  align-items:center;
  gap:8px;
  padding:12px 14px;
  border-radius:12px;
  text-decoration:none;
  font-weight:800;
  color:#eef2ff;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
  transition:.15s ease;
}

.r2d-seo-link:hover{
  transform:translateY(-2px);
  background:rgba(229,59,59,.15);
  border-color:rgba(229,59,59,.4);
}

 /* ===== Slim right learning panel ===== */
.r2d-learn-slim{
  margin-top:14px;
  padding:16px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
  backdrop-filter: blur(6px);
}

.r2d-learn-slim h3{
  margin:0 0 12px;
  font-size:16px;
  font-weight:900;
  opacity:.9;
}

/* ‚úÖ 2x2 GRID */
.r2d-learn-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}

/* link cards */
.r2d-learn-mini{
  display:flex;
  align-items:center;
  gap:8px;
  padding:12px 14px;
  border-radius:12px;
  text-decoration:none;
  color:#eef2ff;
  font-weight:800;
  font-size:14px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  transition:.15s ease;
}

.r2d-learn-mini:hover{
  background:rgba(229,59,59,.15);
  border-color:rgba(229,59,59,.35);
  transform:translateY(-2px);
}

/* mobile fallback */
@media (max-width:600px){
  .r2d-learn-grid{
    grid-template-columns:1fr;
  }
}
    
  </style>
</head>

<body>
  <div class="r2d-wrap">

    <div class="r2d-top">
      <a class="r2d-home-pill" href="/" aria-label="Home">
        <span aria-hidden="true">‚åÇ</span>
        <span>Home</span>
      </a>

      <a class="r2d-brand" href="/" aria-label="Reddi2Drive home">
        Reddi<span class="r2d-brand2">2</span>Drive
      </a>
    </div>

    <section class="r2d-titlecard" aria-label="Stopping distance calculator">
      <h1>Stopping Distance Calculator</h1>
      <p class="r2d-sub">
        Quick DVSA-style reference for <b>thinking distance</b>, <b>braking distance</b> and total <b>stopping distance</b>.
        Use as a learning tool ‚Äî real-world results vary with tyres, brakes, load, gradient and driver reaction time.
      </p>
    </section>

    <div class="r2d-grid">

      <!-- LEFT: Inputs + Results -->
      <section class="r2d-card">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;">
          <h2 style="margin:0;">Inputs</h2>
          <span class="r2d-pill">DVSA reference values</span>
        </div>

        <div class="r2d-form" role="group" aria-label="Stopping distance inputs">
          <div class="r2d-field">
            <label for="speed">Speed</label>
            <select id="speed" aria-label="Speed">
              <option value="20">20 mph</option>
              <option value="30">30 mph</option>
              <option value="40">40 mph</option>
              <option value="50">50 mph</option>
              <option value="60">60 mph</option>
              <option value="70">70 mph</option>
            </select>
          </div>

          <div class="r2d-field">
            <label for="cond">Road condition</label>
            <select id="cond" aria-label="Road condition">
              <option>Dry</option>
              <option>Wet</option>
            </select>
          </div>
        </div>

        <button id="calcBtn" type="button">Update distances</button>

        <div class="r2d-kpis" aria-label="Results">
          <div class="r2d-kpi">
            <div class="k">Thinking distance</div>
            <div class="v"><span id="think">‚Äî</span><span class="unit">m</span></div>
          </div>
          <div class="r2d-kpi">
            <div class="k">Braking distance</div>
            <div class="v"><span id="brake">‚Äî</span><span class="unit">m</span></div>
          </div>
          <div class="r2d-kpi">
            <div class="k">Total stopping distance</div>
            <div class="v"><span id="stop">‚Äî</span><span class="unit">m</span></div>
          </div>
        </div>

        <div class="r2d-kpis" style="margin-top:10px;">
          <div class="r2d-kpi">
            <div class="k">Distance per second</div>
            <div class="v"><span id="dps">‚Äî</span><span class="unit">m/s</span></div>
          </div>
          <div class="r2d-kpi" style="grid-column: span 2;">
            <div class="k">Typical safe following distance</div>
            <div class="v"><span id="follow">‚Äî</span><span class="unit">m</span></div>
          </div>
        </div>

        <div class="r2d-bar">
          <h3>Stopping distance split</h3>
          <div id="distBar" aria-label="Stopping distance bar">
            <div id="segThink" class="seg" style="left:20px; width:120px;">‚Äî m</div>
            <div id="segBrake" class="seg" style="left:160px; width:220px;">‚Äî m</div>
          </div>
          <div class="r2d-note">
            <span style="font-weight:950;">Tip:</span> in wet conditions, braking distance is typically much longer ‚Äî treat it seriously.
          </div>
        </div>
      </section>


     <!-- RIGHT: Stopping Distance Explanation -->
<aside class="r2d-card r2d-edu-card">

  <h2>Stopping Distance Explained</h2>

  <p>
    This calculator demonstrates how speed and road conditions affect
    thinking distance, braking distance and total stopping distance.
  </p>

  <ul>
    <li><strong>Thinking distance</strong> is the distance travelled while reacting.</li>
    <li><strong>Braking distance</strong> depends on speed, grip and road surface.</li>
    <li><strong>Total stopping distance</strong> = Thinking + Braking distance.</li>
    <li><strong>Following distance</strong> should increase in poor conditions.</li>
  </ul>

  <p>
    The Highway Code recommends allowing at least
    <strong>double the stopping distance in wet conditions</strong>.
    Reduced tyre grip means braking takes significantly longer,
    even though reaction time remains the same.
  </p>

  <p>
    Vehicle load, tyre condition, weather and driver fatigue all
    increase stopping distance. Always leave more space than the
    minimum shown here when driving in real conditions.
  </p>

  <div class="r2d-learn-slim">

  <h3>Continue learning</h3>

  <div class="r2d-learn-grid">

    <a href="/highway-code/" class="r2d-learn-mini">
      üìò Highway Code Guide
    </a>

    <a href="/practice/" class="r2d-learn-mini">
      üß† Theory Practice Tests
    </a>

    <a href="/learn/" class="r2d-learn-mini">
      üöó Learner Resources
    </a>

    <a href="/booking-enquiry/" class="r2d-learn-mini">
      üö¶ Driving Lessons in Redditch
    </a>

  </div>

</aside>
      
    </div>
  </div>

  <script>
    const maps = {
      dps: {20:9, 30:13.5, 40:18, 50:22.5, 60:27, 70:31.5},
      followDry: {20:18, 30:27, 40:36, 50:45, 60:54, 70:63},
      think: {20:6, 30:9, 40:12, 50:15, 60:18, 70:21},
      brakeDry: {20:6, 30:14, 40:24, 50:38, 60:55, 70:75},
    };

    const el = (id)=>document.getElementById(id);
    const fmt = (n)=> (Number.isInteger(n) ? String(n) : (Math.round(n*100)/100).toString());

    function recalc(){
      const cond = el('cond').value;
      const speed = parseInt(el('speed').value, 10);

      const think = maps.think[speed] ?? null;
      const brake = (maps.brakeDry[speed] ?? null) * (cond === 'Wet' ? 2 : 1);
      const stop  = (think == null || brake == null) ? null : (think + brake);

      el('think').textContent = think == null ? '‚Äî' : fmt(think);
      el('brake').textContent = brake == null ? '‚Äî' : fmt(brake);
      el('stop').textContent  = stop == null ? '‚Äî' : fmt(stop);

      const dps = maps.dps[speed] ?? null;
      const follow = (maps.followDry[speed] ?? null) * (cond === 'Wet' ? 2 : 1);
      el('dps').textContent = dps == null ? '‚Äî' : fmt(dps);
      el('follow').textContent = follow == null ? '‚Äî' : fmt(follow);

      // bar segments
      const bar = el('distBar');
      if(bar){
        const padL = 20;
        const padR = 20;
        const usable = bar.clientWidth - padL - padR;

        const thinkPct = stop ? (think/stop) : 0;
        const brakePct = stop ? (brake/stop) : 0;

        const thinkW = Math.max(0, usable * thinkPct);
        const brakeW = Math.max(0, usable * brakePct);

        const segThink = el('segThink');
        const segBrake = el('segBrake');

        segThink.style.width = Math.max(64, thinkW) + 'px';
        segThink.style.left  = padL + 'px';
        segThink.textContent = (think == null ? '‚Äî' : fmt(think)) + ' m';

        segBrake.style.width = Math.max(64, brakeW) + 'px';
        segBrake.style.left  = (padL + Math.max(64, thinkW)) + 'px';
        segBrake.textContent = (brake == null ? '‚Äî' : fmt(brake)) + ' m';
      }

      // move car roughly along the road based on stopping distance
      const car = el('car');
      if(car && stop){
        // map 0..100m roughly into 40..(container width - 80)
        const road = car.parentElement;
        const w = road.clientWidth || 600;
        const minX = 40;
        const maxX = Math.max(120, w - 80);
        const clamped = Math.max(0, Math.min(100, stop));
        const x = minX + (maxX - minX) * (clamped / 100);
        car.style.left = x + "px";
      }
    }

    el('calcBtn').addEventListener('click', recalc);
    el('cond').addEventListener('change', recalc);
    el('speed').addEventListener('change', recalc);
    window.addEventListener('resize', recalc);

    el('cond').value = 'Dry';
    el('speed').value = '20';
    recalc();
  </script>
</body>
</html>
